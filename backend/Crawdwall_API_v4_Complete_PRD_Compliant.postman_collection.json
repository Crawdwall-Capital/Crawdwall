{
  "info": {
    "name": "Crawdwall Capital API - Complete PRD Compliant",
    "description": "Complete API collection for Crawdwall Capital platform with full PRD compliance including voting system, admin override, and all business logic",
    "version": "3.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{authToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api",
      "type": "string"
    },
    {
      "key": "adminEmail",
      "value": "thiscrawdwallcapital@gmail.com",
      "type": "string"
    },
    {
      "key": "authToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "proposalId",
      "value": "",
      "type": "string"
    },
    {
      "key": "officerId",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üè• Health Check",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "health"
              ]
            },
            "description": "Check if the server is running"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:3000/health",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "health"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": \"OK\",\n  \"message\": \"Server is running\"\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "üîê Authentication",
      "item": [
        {
          "name": "Register Organizer",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', response.token);",
                  "    pm.test('Registration successful', function () {",
                  "        pm.expect(response.message).to.eql('Registration successful');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john.organizer@example.com\",\n  \"phoneNumber\": \"+1234567890\",\n  \"password\": \"SecurePass123\",\n  \"role\": \"ORGANIZER\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "register"
              ]
            }
          }
        },
        {
          "name": "Register Investor",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Jane Smith\",\n  \"email\": \"jane.investor@example.com\",\n  \"phoneNumber\": \"+1234567891\",\n  \"password\": \"SecurePass123\",\n  \"role\": \"INVESTOR\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "register"
              ]
            }
          }
        },
        {
          "name": "Login User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', response.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john.organizer@example.com\",\n  \"password\": \"SecurePass123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üëë Admin (Super Admin - PRD)",
      "item": [
        {
          "name": "Request Admin OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{adminEmail}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/request-otp",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "admin",
                "request-otp"
              ]
            },
            "description": "Request OTP for admin authentication (PRD: Super Admin)"
          }
        },
        {
          "name": "Verify Admin OTP",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', response.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"otp\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/verify-otp",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "admin",
                "verify-otp"
              ]
            },
            "description": "Verify OTP and get admin token"
          }
        },
        {
          "name": "Create Officer",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('officerId', response.officer.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"officer1@crawdwall.com\",\n  \"name\": \"Officer One\",\n  \"password\": \"OfficerPass123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/officers",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "admin",
                "officers"
              ]
            },
            "description": "Create new officer (PRD: Admin creates committee members)"
          }
        },
        {
          "name": "Get All Officers",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/officers",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "admin",
                "officers"
              ]
            }
          }
        },
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/users",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "admin",
                "users"
              ]
            },
            "description": "Get all platform users (Admin oversight)"
          }
        },
        {
          "name": "Get All Proposals",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/proposals",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "admin",
                "proposals"
              ]
            }
          }
        },
        {
          "name": "Override Proposal Decision (NEW PRD)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"decision\": \"APPROVED\",\n  \"reason\": \"Manual override - exceptional circumstances warrant approval despite voting outcome\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/proposals/{{proposalId}}/override",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "admin",
                "proposals",
                "{{proposalId}}",
                "override"
              ]
            },
            "description": "PRD: Admin override proposal decisions (manual final authority)"
          }
        },
        {
          "name": "Get Platform Configuration (NEW PRD)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/configuration",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "admin",
                "configuration"
              ]
            },
            "description": "PRD: Configure system rules (acceptance threshold, etc.)"
          }
        },
        {
          "name": "Update Platform Configuration (NEW PRD)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"voting\": {\n    \"acceptanceThreshold\": 4\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/configuration",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "admin",
                "configuration"
              ]
            }
          }
        },
        {
          "name": "Get Platform Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/stats",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "admin",
                "stats"
              ]
            }
          }
        },
        {
          "name": "Get Proposal Audit Trail (NEW PRD)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/proposals/{{proposalId}}/audit",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "admin",
                "proposals",
                "{{proposalId}}",
                "audit"
              ]
            },
            "description": "PRD: View full audit logs - immutable compliance trail"
          }
        }
      ]
    },
    {
      "name": "üëÆ Officer (Admin Committee - PRD)",
      "item": [
        {
          "name": "Officer Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', response.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"officer1@crawdwall.com\",\n  \"password\": \"OfficerPass123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/officer/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "officer",
                "login"
              ]
            },
            "description": "PRD: Investment Committee Member authentication"
          }
        },
        {
          "name": "Get Officer Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/officer/profile",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "officer",
                "profile"
              ]
            }
          }
        },
        {
          "name": "Get Proposals for Review",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/officer/proposals",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "officer",
                "proposals"
              ]
            },
            "description": "PRD: View all submitted proposals for committee review"
          }
        },
        {
          "name": "Submit Vote with Mandatory Review (PRD)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"decision\": \"ACCEPT\",\n  \"riskAssessment\": \"Low risk - comprehensive business plan with strong market validation and experienced team. Risk mitigation strategies are well-defined.\",\n  \"revenueComment\": \"Revenue projections are realistic and conservative. Multiple revenue streams provide good diversification. Market size supports projected growth.\",\n  \"notes\": \"Excellent proposal with detailed execution strategy. Recommend approval with standard monitoring milestones.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/officer/proposals/{{proposalId}}/vote",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "officer",
                "proposals",
                "{{proposalId}}",
                "vote"
              ]
            },
            "description": "PRD: Submit Accept/Reject vote with mandatory written review (risk assessment + revenue viability)"
          }
        },
        {
          "name": "Get Proposal Voting Information",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/officer/proposals/{{proposalId}}/votes",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "officer",
                "proposals",
                "{{proposalId}}",
                "votes"
              ]
            },
            "description": "PRD: View voting summary and other reviews (only after submitting own vote)"
          }
        },
        {
          "name": "Get Officer Voting History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/officer/votes/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "officer",
                "votes",
                "history"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üìã Organizer (Event Creator - PRD)",
      "item": [
        {
          "name": "Create Proposal",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('proposalId', response.proposal.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"eventTitle\": \"Tech Innovation Conference 2024\",\n  \"description\": \"A comprehensive technology conference featuring the latest innovations in AI, blockchain, and sustainable tech. Expected 500+ attendees from leading tech companies.\",\n  \"expectedRevenue\": 250000,\n  \"timeline\": \"12 months\",\n  \"pitchVideoUrl\": \"https://example.com/pitch-video\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/organizer/proposals",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "organizer",
                "proposals"
              ]
            },
            "description": "PRD: Submit funding proposal with required documents"
          }
        },
        {
          "name": "Get My Proposals",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/organizer/proposals",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "organizer",
                "proposals"
              ]
            },
            "description": "PRD: View proposal status in real time (Submitted, Under Review, Accepted, Rejected)"
          }
        },
        {
          "name": "Get Proposal Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/organizer/proposals/{{proposalId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "organizer",
                "proposals",
                "{{proposalId}}"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üí∞ Investor (Capital Provider - PRD)",
      "item": [
        {
          "name": "Get Investment Opportunities",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/investor/opportunities",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "investor",
                "opportunities"
              ]
            },
            "description": "PRD: View vetted and approved investment opportunities only"
          }
        },
        {
          "name": "Get Investment Opportunity Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/investor/opportunities/{{proposalId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "investor",
                "opportunities",
                "{{proposalId}}"
              ]
            }
          }
        },
        {
          "name": "Express Interest",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"proposalId\": \"{{proposalId}}\",\n  \"eventType\": \"CONFERENCE\",\n  \"investmentRange\": \"100000-250000\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/investor/interest",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "investor",
                "interest"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üìÅ File Upload",
      "item": [
        {
          "name": "Upload Budget Document",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "type",
                  "value": "budget",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/upload",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "upload"
              ]
            },
            "description": "PRD: Upload required documents (budget, revenue plan, timeline)"
          }
        },
        {
          "name": "Upload Report Document",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "type",
                  "value": "report",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/upload",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "upload"
              ]
            }
          }
        }
      ]
    }
  ]
}